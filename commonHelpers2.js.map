{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formHtml = `<form class=\"feedback-form\" autocomplete=\"off\">\n  <label>\n    Email\n    <input type=\"email\" name=\"email\" autofocus />\n  </label>\n  <label>\n    Message\n    <textarea name=\"message\" rows=\"8\"></textarea>\n  </label>\n  <button type=\"submit\">Submit</button>\n</form>`;\n\ndocument.body.style.backgroundColor = 'lightgray';\ndocument\n  .querySelector('.main-section')\n  .insertAdjacentHTML('beforeend', formHtml);\n\nconst formEl = document.querySelector('.feedback-form');\nconst storageKey = 'feedback-form-state';\nlet feedbackObject = { email: '', message: '' };\n\n// читаємо дані і заповнюємо поля\nconst storageValue = localStorage.getItem(storageKey);\nif (storageValue !== null && storageValue !== '') {\n  try {\n    feedbackObject = JSON.parse(storageValue);\n\n    for (const fieldName in feedbackObject) {\n      formEl.elements[fieldName].value = feedbackObject[fieldName];\n    }\n  } catch {}\n}\n\n// слухач інпут\nformEl.addEventListener('input', event => {\n  const nodeName = event.target.nodeName;\n  if (nodeName === 'INPUT' || nodeName === 'TEXTAREA') {\n    for (const fieldName in feedbackObject) {\n      feedbackObject[fieldName] = formEl.elements[fieldName].value.trim();\n    }\n\n    localStorage.setItem(storageKey, JSON.stringify(feedbackObject));\n  }\n});\n\n// слухач submit\nformEl.addEventListener('submit', event => {\n  event.preventDefault();\n\n  for (const fieldName in feedbackObject) {\n    if (!formEl.elements[fieldName].value) {\n      alert('All field must be filled!');\n      return;\n    }\n  }\n\n  for (const fieldName in feedbackObject) {\n    formEl.elements[fieldName].value = '';\n  }\n\n  localStorage.removeItem(storageKey);\n\n  console.dir(feedbackObject);\n});\n"],"names":["formHtml","formEl","storageKey","feedbackObject","storageValue","fieldName","event","nodeName"],"mappings":"oDAAA,MAAMA,EAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAYjB,SAAS,KAAK,MAAM,gBAAkB,YACtC,SACG,cAAc,eAAe,EAC7B,mBAAmB,YAAaA,CAAQ,EAE3C,MAAMC,EAAS,SAAS,cAAc,gBAAgB,EAChDC,EAAa,sBACnB,IAAIC,EAAiB,CAAE,MAAO,GAAI,QAAS,EAAE,EAG7C,MAAMC,EAAe,aAAa,QAAQF,CAAU,EACpD,GAAIE,IAAiB,MAAQA,IAAiB,GAC5C,GAAI,CACFD,EAAiB,KAAK,MAAMC,CAAY,EAExC,UAAWC,KAAaF,EACtBF,EAAO,SAASI,GAAW,MAAQF,EAAeE,EAErD,MAAC,CAAQ,CAIZJ,EAAO,iBAAiB,QAASK,GAAS,CACxC,MAAMC,EAAWD,EAAM,OAAO,SAC9B,GAAIC,IAAa,SAAWA,IAAa,WAAY,CACnD,UAAWF,KAAaF,EACtBA,EAAeE,GAAaJ,EAAO,SAASI,GAAW,MAAM,OAG/D,aAAa,QAAQH,EAAY,KAAK,UAAUC,CAAc,CAAC,CAChE,CACH,CAAC,EAGDF,EAAO,iBAAiB,SAAUK,GAAS,CACzCA,EAAM,eAAc,EAEpB,UAAWD,KAAaF,EACtB,GAAI,CAACF,EAAO,SAASI,GAAW,MAAO,CACrC,MAAM,2BAA2B,EACjC,MACD,CAGH,UAAWA,KAAaF,EACtBF,EAAO,SAASI,GAAW,MAAQ,GAGrC,aAAa,WAAWH,CAAU,EAElC,QAAQ,IAAIC,CAAc,CAC5B,CAAC"}